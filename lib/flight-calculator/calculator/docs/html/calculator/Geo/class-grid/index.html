<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>grid (calculator.Geo.grid)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">calculator</a> &#x00BB; <a href="../index.html">Geo</a> &#x00BB; grid</nav><h1>Class <code>Geo.grid</code></h1><p>représente une grille discrètisant l'espace avec un pas le latitude/longitude constant et un ensemble d'altitudes choisi. <code>new grid ~altitudes:[|0.;10000.|] 180</code> créée une grille avec un pas de 1° (méridien divisé en 180 segments de 1°) et avec les niveaux d'altitude 0m et 10000m</p></header><dl><dt class="spec instance-variable" id="val-ny"><a href="#val-ny" class="anchor"></a><code><span class="keyword">val</span> ny : int</code></dt><dd><p>nombre de points sur une colonne</p><p>nombre de points sur une ligne</p></dd></dl><dl><dt class="spec instance-variable" id="val-nx"><a href="#val-nx" class="anchor"></a><code><span class="keyword">val</span> nx : int</code></dt><dd><p>nombre de points sur une ligne</p><p>nombre de niveaux d'altitude</p></dd></dl><dl><dt class="spec instance-variable" id="val-nz"><a href="#val-nz" class="anchor"></a><code><span class="keyword">val</span> nz : int</code></dt><dd><p>nombre de niveaux d'altitude</p><p>incrément en degrés de latitude (ou de longitude) entre deux points adjacents</p></dd></dl><dl><dt class="spec instance-variable" id="val-increment"><a href="#val-increment" class="anchor"></a><code><span class="keyword">val</span> increment : float</code></dt><dd><p>incrément en degrés de latitude (ou de longitude) entre deux points adjacents</p></dd></dl><aside><p><sub>accesseurs pour lire ces valeurs de l'exterieur</sub></p></aside><dl><dt class="spec method" id="method-nx"><a href="#method-nx" class="anchor"></a><code><span class="keyword">method</span> nx : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> int</code></dt><dt class="spec method" id="method-ny"><a href="#method-ny" class="anchor"></a><code><span class="keyword">method</span> ny : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> int</code></dt><dt class="spec method" id="method-nz"><a href="#method-nz" class="anchor"></a><code><span class="keyword">method</span> nz : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> int</code></dt><dt class="spec method" id="method-increment"><a href="#method-increment" class="anchor"></a><code><span class="keyword">method</span> increment : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> float</code></dt><dt class="spec method" id="method-id_of_point"><a href="#method-id_of_point" class="anchor"></a><code><span class="keyword">method</span> id_of_point : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int</code></dt><dd><p>associe un entier 0 &lt;= n &lt; nx*ny*nz à un point</p><p>donne les coordonnées d'un point de la grille</p></dd></dl><dl><dt class="spec method" id="method-location_of_point"><a href="#method-location_of_point" class="anchor"></a><code><span class="keyword">method</span> location_of_point : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a></code></dt><dd><p>donne les coordonnées d'un point de la grille</p><p>distance entre deux points de la grille par formule d'Haversine (identique sur une même ligne pour un même déplacement donc pourrait bénéficier d'une mise en cache)</p></dd></dl><dl><dt class="spec method" id="method-distance_between_points"><a href="#method-distance_between_points" class="anchor"></a><code><span class="keyword">method</span> distance_between_points : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float</code></dt><dd><p>distance entre deux points de la grille par formule d'Haversine (identique sur une même ligne pour un même déplacement donc pourrait bénéficier d'une mise en cache)</p><p>renvoie la ligne et la colonne (sans arrondi) correspondant à des coordonnées GPS</p></dd></dl><dl><dt class="spec method" id="method-get_float_coordinates_2D"><a href="#method-get_float_coordinates_2D" class="anchor"></a><code><span class="keyword">method</span> get_float_coordinates_2D : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float</code></dt><dd><p>renvoie la ligne et la colonne (sans arrondi) correspondant à des coordonnées GPS</p><p>renvoie le points de la grille le plus proche</p></dd></dl><dl><dt class="spec method" id="method-get_closest"><a href="#method-get_closest" class="anchor"></a><code><span class="keyword">method</span> get_closest : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int</code></dt><dd><p>renvoie le points de la grille le plus proche</p><p>renvoie les points de la grille encardant un certain point de l'espace</p></dd></dl><dl><dt class="spec method" id="method-get_surrounding_2D"><a href="#method-get_surrounding_2D" class="anchor"></a><code><span class="keyword">method</span> get_surrounding_2D : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span></code></dt><dd><p>renvoie les points de la grille encardant un certain point de l'espace</p><p><code>grid#resolve_next_point point heading</code> renvoie le point de la grille atteint après le déplacement défini par heading à partir de point</p></dd></dl><dl><dt class="spec method" id="method-resolve_next_point"><a href="#method-resolve_next_point" class="anchor"></a><code><span class="keyword">method</span> resolve_next_point : &lt; distance_between_points : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> float; get_closest : <a href="../index.html#type-location">location</a> <span>&#45;&gt;</span> int * int * int; get_float_coordinates_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> float * float; get_surrounding_2D : <a href="../index.html#type-location_2D">location_2D</a> <span>&#45;&gt;</span> <span><span>(int * int)</span> <a href="../index.html#type-surrounding">surrounding</a></span>; id_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> int; increment : float; location_of_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-location">location</a>; nx : int; ny : int; nz : int; resolve_next_point : <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a>; .. &gt; <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a> <span>&#45;&gt;</span> <a href="../index.html#type-heading">heading</a> <span>&#45;&gt;</span> <a href="../index.html#type-point">point</a></code></dt><dd><p><code>grid#resolve_next_point point heading</code> renvoie le point de la grille atteint après le déplacement défini par heading à partir de point</p></dd></dl></div></body></html>